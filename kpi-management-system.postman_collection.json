{
"openapi": "3.0.0",
"info": {
"title": "KPI Management System API",
"version": "1.0.0",
"description": "API documentation for KPI Management System with Authentication, User Management, and KPI Management"
},
"servers": [
{
"url": "http://localhost:5000/api"
}
],
"paths": {
"/auth/register": {
"post": {
"summary": "Register new user",
"tags": ["Authentication"],
"requestBody": {
"required": true,
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"username": { "type": "string" },
"email": { "type": "string" },
"password": { "type": "string" },
"role": { "type": "string", "enum": ["Admin", "User"] }
},
"required": ["username", "email", "password"]
}
}
}
},
"responses": {
"201": { "description": "User registered successfully" },
"400": { "description": "User already exists" },
"500": { "description": "Internal server error" }
}
}
},
"/auth/login": {
"post": {
"summary": "Login user",
"tags": ["Authentication"],
"requestBody": {
"required": true,
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"username": { "type": "string" },
"password": { "type": "string" }
},
"required": ["username", "password"]
}
}
}
},
"responses": {
"200": { "description": "Login success, return JWT token" },
"400": { "description": "Invalid credentials" },
"500": { "description": "Internal server error" }
}
}
},
"/auth/create-user": {
"post": {
"summary": "Create user (Admin only)",
"tags": ["Authentication"],
"security": [{ "bearerAuth": [] }],
"responses": {
"201": { "description": "User created successfully" },
"401": { "description": "Unauthorized" },
"403": { "description": "Forbidden" }
}
}
},
"/users": {
"get": {
"summary": "Get all users",
"tags": ["Users"],
"security": [{ "bearerAuth": [] }],
"responses": {
"200": { "description": "List of users" },
"401": { "description": "Unauthorized" },
"500": { "description": "Internal server error" }
}
}
},
"/users/{id}/role": {
"put": {
"summary": "Update user role",
"tags": ["Users"],
"security": [{ "bearerAuth": [] }],
"parameters": [
{
"name": "id",
"in": "path",
"required": true,
"schema": { "type": "string" }
}
],
"requestBody": {
"required": true,
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": { "role": { "type": "string", "enum": ["Admin", "User"] } }
}
}
}
},
"responses": {
"200": { "description": "User role updated" },
"401": { "description": "Unauthorized" },
"404": { "description": "User not found" }
}
}
},
"/users/{id}": {
"delete": {
"summary": "Delete user",
"tags": ["Users"],
"security": [{ "bearerAuth": [] }],
"parameters": [
{
"name": "id",
"in": "path",
"required": true,
"schema": { "type": "string" }
}
],
"responses": {
"200": { "description": "User deleted" },
"401": { "description": "Unauthorized" },
"404": { "description": "User not found" }
}
}
},
"/kpis/my": {
"get": {
"summary": "Get my KPIs",
"tags": ["KPIs"],
"security": [{ "bearerAuth": [] }],
"responses": {
"200": { "description": "List of my KPIs" },
"401": { "description": "Unauthorized" }
}
}
},
"/kpis": {
"get": {
"summary": "Get all KPIs",
"tags": ["KPIs"],
"security": [{ "bearerAuth": [] }],
"responses": {
"200": { "description": "List of KPIs" },
"401": { "description": "Unauthorized" }
}
},
"post": {
"summary": "Create KPI",
"tags": ["KPIs"],
"security": [{ "bearerAuth": [] }],
"requestBody": {
"required": true,
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"title": { "type": "string" },
"description": { "type": "string" },
"target_value": { "type": "number" },
"assigned_user": { "type": "string" },
"start_date": { "type": "string", "format": "date" },
"end_date": { "type": "string", "format": "date" }
},
"required": ["title", "target_value", "start_date", "end_date"]
}
}
}
},
"responses": {
"201": { "description": "KPI created" },
"400": { "description": "Validation error" },
"401": { "description": "Unauthorized" }
}
}
},
"/kpis/{id}": {
"get": {
"summary": "Get KPI by ID",
"tags": ["KPIs"],
"security": [{ "bearerAuth": [] }],
"parameters": [
{
"name": "id",
"in": "path",
"required": true,
"schema": { "type": "string" }
}
],
"responses": {
"200": { "description": "KPI object" },
"401": { "description": "Unauthorized" },
"404": { "description": "KPI not found" }
}
},
"put": {
"summary": "Update KPI",
"tags": ["KPIs"],
"security": [{ "bearerAuth": [] }],
"parameters": [
{
"name": "id",
"in": "path",
"required": true,
"schema": { "type": "string" }
}
],
"requestBody": {
"required": true,
"content": {
"application/json": { "schema": { "type": "object" } }
}
},
"responses": {
"200": { "description": "KPI updated" },
"401": { "description": "Unauthorized" },
"403": { "description": "Forbidden" },
"404": { "description": "KPI not found" }
}
},
"delete": {
"summary": "Delete KPI",
"tags": ["KPIs"],
"security": [{ "bearerAuth": [] }],
"parameters": [
{
"name": "id",
"in": "path",
"required": true,
"schema": { "type": "string" }
}
],
"responses": {
"200": { "description": "KPI deleted" },
"401": { "description": "Unauthorized" },
"403": { "description": "Forbidden" },
"404": { "description": "KPI not found" }
}
}
}
},
"components": {
"securitySchemes": {
"bearerAuth": {
"type": "http",
"scheme": "bearer",
"bearerFormat": "JWT"
}
}
}
}
